<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}AI Resume Analyzer{% endblock %}</title>
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.svg') }}" type="image/svg+xml"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <!-- Global CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>
  {% block extra_head %}{% endblock %}
</head>
<body>

<!-- ── Particle Canvas ─────────────────────────────────────────────────────── -->
<canvas id="particles-canvas"></canvas>

<!-- ── Navbar ─────────────────────────────────────────────────────────────── -->
<nav class="navbar">
  <a href="{{ url_for('index') }}" class="nav-brand">
    <span class="brand-icon"><i class="fas fa-brain"></i></span>
    <span class="brand-text">ResumeAI</span>
  </a>
  <div class="nav-links">
    <a href="{{ url_for('index') }}" class="nav-link {% if request.endpoint == 'index' %}active{% endif %}">
      <i class="fas fa-home"></i> Home
    </a>
    <a href="{{ url_for('dashboard') }}" class="nav-link {% if request.endpoint == 'dashboard' %}active{% endif %}">
      <i class="fas fa-chart-bar"></i> Dashboard
    </a>
  </div>
  <button class="nav-toggle" id="navToggle" aria-label="Toggle nav">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- ── Flash Messages ──────────────────────────────────────────────────────── -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="toast-container">
      {% for category, message in messages %}
        <div class="toast toast-{{ category }}">
          <i class="fas {% if category == 'error' %}fa-exclamation-circle{% else %}fa-check-circle{% endif %}"></i>
          <span>{{ message }}</span>
          <button class="toast-close" onclick="this.parentElement.remove()">✕</button>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<!-- ── Page Content ────────────────────────────────────────────────────────── -->
<main class="main-content">
  {% block content %}{% endblock %}
</main>

<!-- ── Footer ─────────────────────────────────────────────────────────────── -->
<footer class="footer">
  <div class="footer-inner">
    <p>Built by <span class="accent">Hassan Ahmed</span> – AI Resume Analyzer</p>
    <p class="footer-sub">Powered by Flask · scikit-learn · Neon DB</p>
  </div>
</footer>

<!-- Global JS -->
<script src="{{ url_for('static', filename='js/particles.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% block extra_scripts %}{% endblock %}
</body>
</html>
